# Changelog

## [Unreleased] - 2025-11-13

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ ZRAM
- **–®–∞–≥ 05_zram_swap.sh** —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä ZRAM –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–º–∞ RAM
- **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
  - < 2GB RAM: 50% –æ—Ç RAM (—ç–∫–æ–Ω–æ–º–∏–º –ø–∞–º—è—Ç—å)
  - 2-4GB RAM: 100% –æ—Ç RAM (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π swap)
  - 4GB+ RAM: 50% –æ—Ç RAM (–±–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å/–ø–∞–º—è—Ç—å)
- **–î–ª—è RPI5 8GB:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è 4GB ZRAM
- **–î–ª—è RPI5 4GB:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è 2GB ZRAM
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ RPI
  - –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏
  - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º—ã

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EEPROM
- **–®–∞–≥ 01_prereq.sh** —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç EEPROM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ö–æ–º–∞–Ω–¥–∞:** `rpi-eeprom-update -d -a`
- **–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**
  - ‚úÖ –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è RPI5 (—É–ª—É—á—à–µ–Ω–∏—è PCIe, USB, NVMe)
  - ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
  - ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
  - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏
  - ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å NVMe SSD
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
- **–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ:** –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –∏ —Å—Ç–∞—Ç—É—Å

### üîß –ò–∑–º–µ–Ω–µ–Ω–æ

#### –ü–∞–∫–µ—Ç bc –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞ ZRAM
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ —à–∞–≥–µ 01_prereq.sh

### üìö –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md:**
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞ 01 (EEPROM)
  - –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–∞ 05 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ZRAM)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö
  
- **IMPROVEMENTS.md:**
  - –û—Ç–º–µ—á–µ–Ω—ã –Ω–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

### EEPROM –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
RPI5 - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∏ Raspberry Pi Foundation —Ä–µ–≥—É–ª—è—Ä–Ω–æ –≤—ã–ø—É—Å–∫–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è EEPROM, –∫–æ—Ç–æ—Ä—ã–µ:
- –£–ª—É—á—à–∞—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å NVMe –¥–∏—Å–∫–∞–º–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É PCIe Gen 3
- –ò—Å–ø—Ä–∞–≤–ª—è—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–≥—Ä–µ–≤–æ–º
- –î–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –£–ª—É—á—à–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö

**–í–∞–∂–Ω–æ:** EEPROM –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ù–ï —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–µ OS - –æ–Ω–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∂–µ–ª–µ–∑–æ.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ZRAM
–î–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º–∏:
- –†–∞–±–æ—Ç–∞—é—Ç –Ω–∞ RPI5 4GB, 8GB –∏ –±—É–¥—É—â–∏—Ö –º–æ–¥–µ–ª—è—Ö
- –ù–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –∫–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä ZRAM –æ–ø—Ç–∏–º–∞–ª–µ–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

### EEPROM –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```
[01] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EEPROM...
[01] –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è EEPROM:
BOOTLOADER: up to date
   CURRENT: 2023/05/11
   LATEST: 2023/05/11
[01] ‚úì EEPROM —É–∂–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```

–∏–ª–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
[01] –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ EEPROM, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é...
[01] ‚ö†Ô∏è  EEPROM –æ–±–Ω–æ–≤–ª–µ–Ω, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤
```

### ZRAM —Ä–∞–∑–º–µ—Ä
```
[05] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ZRAM swap —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞...
[05] –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ RAM: 7845MB
[05] –†–∞–∑–º–µ—Ä ZRAM –±—É–¥–µ—Ç: 3922MB (3.83GB)
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

–ï—Å–ª–∏ –≤—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–Ω–µ–µ:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ EEPROM –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –Ω–µ –¥–µ–ª–∞–ª–∏)
sudo rpi-eeprom-update -d -a
sudo reboot

# 2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ ZRAM —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞–∑–º–µ—Ä–æ–º
cd rpi-setup
sudo ./run.sh 05

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä ZRAM
swapon --show
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ ZRAM
```bash
TOTAL_RAM_MB=$(free -m | awk '/^Mem:/{print $2}')

if [[ $TOTAL_RAM_MB -lt 2048 ]]; then
  ZRAM_SIZE_MB=$((TOTAL_RAM_MB / 2))      # 50%
elif [[ $TOTAL_RAM_MB -lt 4096 ]]; then
  ZRAM_SIZE_MB=$TOTAL_RAM_MB              # 100%
else
  ZRAM_SIZE_MB=$((TOTAL_RAM_MB / 2))      # 50%
fi
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç EEPROM update
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Raspberry Pi
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ boot (–±–µ–∑–æ–ø–∞—Å–Ω–æ)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ EEPROM** –ø–µ—Ä–µ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É** –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è EEPROM (–º–æ–≥—É—Ç –±—ã—Ç—å –Ω–æ–≤—ã–µ thermal –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
3. **ZRAM —Ä–∞–∑–º–µ—Ä –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å** –∫–æ–º–∞–Ω–¥–æ–π `swapon --show`
4. **Logrotate** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö –ª–æ–≥–æ–≤ - –æ–Ω–∏ –Ω–µ –∑–∞–±—å—é—Ç –¥–∏—Å–∫

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ Raspberry Pi 5 (4GB, 8GB)
- ‚úÖ Raspberry Pi OS Lite (64-bit)
- ‚úÖ Debian Bookworm –±–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è `rpi-eeprom` –ø–∞–∫–µ—Ç–∞ (–æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø–∞–∫–µ—Ç `bc` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
